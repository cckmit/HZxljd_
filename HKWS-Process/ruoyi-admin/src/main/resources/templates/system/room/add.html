<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('新增房屋信息')" />
    <th:block th:include="include :: select2-css" />
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <form class="form-horizontal m" id="form-room-add">
            <!--<div class="form-group">-->
                <!--<label class="col-sm-3 control-label">所属网格：</label>-->
                <!--<div class="col-sm-8">-->
                    <!--<select name="deptId" class="form-control select-list">-->
                        <!--<option th:each="region:${regionList}" th:value="${region.regionId}" th:text="${region.regionName}"></option>-->
                    <!--</select>-->
                <!--</div>-->
            <!--</div>-->
            <!--<div class="form-group">-->
                <!--<label class="col-sm-3 control-label">选择小区：</label>-->
                <!--<div class="col-sm-8">-->
                    <!--<select name="villageId" class="form-control select-list">-->
                        <!--<option th:each="village:${villageList}" th:value="${village.id}" th:text="${village.name}"></option>-->
                    <!--</select>-->
                <!--</div>-->
            <!--</div>-->
            <div class="form-group">
                <label class="col-sm-3 control-label">所属网格：</label>
                <div class="col-sm-8">
                    <select name="deptId" id="deptName" class="form-control m-b"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">选择小区：</label>
                <div class="col-sm-8">
                    <select name="villageId" id="villageName" class="form-control m-b"></select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">所属楼幢：</label>
                <div class="col-sm-8">
                    <input name="building" class="form-control" placeholder="如5幢" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">所属单元：</label>
                <div class="col-sm-8">
                    <input name="unit" class="form-control" placeholder="如2单元" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">所属房屋：</label>
                <div class="col-sm-8">
                    <input name="room" class="form-control" placeholder="如106室" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">详细地址：</label>
                <div class="col-sm-8">
                    <input name="address" class="form-control" placeholder="请填写详细地址" type="text" required>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label is-required">房屋类型：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('room_type')}">
                        <input type="radio" th:id="${'roomType_' + dict.dictCode}" name="roomType" th:value="${dict.dictValue}" th:checked="${dict.default}" required>
                        <label th:for="${'roomType_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">房屋编码：</label>
                <div class="col-sm-8">
                    <input name="roomCode" class="form-control" placeholder="如有,请填写房屋编码" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">所属村镇：</label>
                <div class="col-sm-8">
                    <input name="town" class="form-control" placeholder="请填写村镇" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">户主姓名：</label>
                <div class="col-sm-8">
                    <input name="householder" class="form-control" placeholder="请填写户主姓名" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">经济类型：</label>
                <div class="col-sm-8">
                    <select name="economicType" class="form-control m-b" th:with="type=${@dict.getType('economic_type')}">
                        <option value="">--请选择农户经济类型--</option>
                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}" th:value="${dict.dictValue}"></option>
                    </select>
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">建造时间：</label>
                <div class="col-sm-8">
                    <input name="buildTime" class="form-control" placeholder="请填写建造时间" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">建筑层数：</label>
                <div class="col-sm-8">
                    <input name="floors" class="form-control" placeholder="请填写层数" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">建筑面积：</label>
                <div class="col-sm-8">
                    <input name="areas" class="form-control" placeholder="请填写建筑面积" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">占地面积：</label>
                <div class="col-sm-8">
                    <input name="floorSpace" class="form-control" placeholder="请填写占地面积" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">房屋使用情况：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('use_type')}">
                        <input type="radio" th:id="${'useType_' + dict.dictCode}" name="useType" th:value="${dict.dictValue}">
                        <label th:for="${'useType_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">房屋周边情况：</label>
                <div class="col-sm-8">
                    <select name="around" class="form-control m-b" th:with="type=${@dict.getType('around')}">
                        <option value="">--请选择房屋周边情况--</option>
                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}" th:value="${dict.dictValue}"></option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">砌筑方式：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('build_type')}">
                        <input type="radio" th:id="${'buildType_' + dict.dictCode}" name="buildType" th:value="${dict.dictValue}">
                        <label th:for="${'buildType_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">构筑类型：</label>
                <div class="col-sm-8">
                    <select name="structureType" class="form-control m-b" th:with="type=${@dict.getType('structure_type')}">
                        <option value="">--请选择房屋构筑类型--</option>
                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}" th:value="${dict.dictValue}"></option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">私自加层：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('adding')}">
                        <input type="radio" th:id="${'adding_' + dict.dictCode}" name="adding" th:value="${dict.dictValue}">
                        <label th:for="${'adding_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">地下室：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('cellar')}">
                        <input type="radio" th:id="${'cellar_' + dict.dictCode}" name="cellar" th:value="${dict.dictValue}">
                        <label th:for="${'cellar_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">三无：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('three_no')}">
                        <input type="radio" th:id="${'threeNo_' + dict.dictCode}" name="threeNo" th:value="${dict.dictValue}">
                        <label th:for="${'threeNo_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">预制多孔板：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('board')}">
                        <input type="radio" th:id="${'board_' + dict.dictCode}" name="board" th:value="${dict.dictValue}">
                        <label th:for="${'board_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">用地手续：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('procedures')}">
                        <input type="radio" th:id="${'procedures_' + dict.dictCode}" name="procedures" th:value="${dict.dictValue}">
                        <label th:for="${'procedures_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">建设规划手册：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('plan_note')}">
                        <input type="radio" th:id="${'planNote_' + dict.dictCode}" name="planNote" th:value="${dict.dictValue}">
                        <label th:for="${'planNote_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">产权证：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('certificate')}">
                        <input type="radio" th:id="${'certificate_' + dict.dictCode}" name="certificate" th:value="${dict.dictValue}">
                        <label th:for="${'certificate_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">享受补助：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('assistance')}">
                        <input type="radio" th:id="${'assistance_' + dict.dictCode}" name="assistance" th:value="${dict.dictValue}">
                        <label th:for="${'assistance_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">鉴定等级：</label>
                <div class="col-sm-8">
                    <select name="appraisal" class="form-control m-b" th:with="type=${@dict.getType('appraisal')}">
                        <option value="">--请选择鉴定等级--</option>
                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}" th:value="${dict.dictValue}"></option>
                    </select>
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">坐标经度：</label>
                <div class="col-sm-8">
                    <input name="gisx" class="form-control" placeholder="请输入坐标经度" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">坐标纬度：</label>
                <div class="col-sm-8">
                    <input name="gisy" class="form-control" placeholder="请输入坐标纬度" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">电话：</label>
                <div class="col-sm-8">
                    <input name="phone" class="form-control" placeholder="请填写电话" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">身份证号：</label>
                <div class="col-sm-8">
                    <input name="idcard" class="form-control" placeholder="请填写身份证号" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">家庭人数：</label>
                <div class="col-sm-8">
                    <input name="peoples" class="form-control" placeholder="请填写人数" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">是否改造：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('remould')}">
                        <input type="radio" th:id="${'remould_' + dict.dictCode}" name="remould" th:value="${dict.dictValue}">
                        <label th:for="${'remould_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">安全隐患初判：</label>
                <div class="col-sm-8">
                    <select name="danger" class="form-control m-b" th:with="type=${@dict.getType('danger')}">
                        <option value="">--请选择安全隐患初判类型--</option>
                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}" th:value="${dict.dictValue}"></option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">是否抗震加固：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('reinforce')}">
                        <input type="radio" th:id="${'reinforce_' + dict.dictCode}" name="reinforce" th:value="${dict.dictValue}">
                        <label th:for="${'reinforce_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">整治计划情况：</label>
                <div class="col-sm-8">
                    <select name="renovate" class="form-control m-b" th:with="type=${@dict.getType('renovate')}">
                        <option value="">--请选择整治计划--</option>
                        <option th:each="dict : ${type}" th:text="${dict.dictLabel}" th:value="${dict.dictValue}"></option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">是否为山洪灾害隐患点：</label>
                <div class="col-sm-8">
                    <div class="radio-box" th:each="dict : ${@dict.getType('waterflood')}">
                        <input type="radio" th:id="${'waterflood_' + dict.dictCode}" name="waterflood" th:value="${dict.dictValue}">
                        <label th:for="${'waterflood_' + dict.dictCode}" th:text="${dict.dictLabel}"></label>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <th:block th:include="include :: footer" />
    <th:block th:include="include :: select2-js" />
    <script type="text/javascript">
        var prefix = ctx + "system/room"
        $("#form-room-add").validate({
            focusCleanup: true
        });

        function submitHandler() {
            if ($.validate.form()) {
                $.operate.save(prefix + "/add", $('#form-room-add').serialize());
            }
        }

        $(function() {
            $.ajax({
                type:"GET",
                url: ctx + "system/village/listForCar",
                dataType:"json",
                success:function(data){
                    var t2 = $("#villageName").empty();
                    t2.append("<option value=''disabled selected hidden>"+"请选择"+"</option>");
                    for ( var i = 0; i < data.length; i++) {
                            t2.append("<option value='"+data[i].id+"'>"+ data[i].name+"</option>");
                        }
                    },
                error:function(jqXHR){
                    alert("发生错误："+ jqXHR.status);
                }
            });
        })

        $(function() {
            $.ajax({
                type:"GET",
                url: prefix + "/regionList",
                dataType:"json",
                success:function(data){
                    var t2 = $("#deptName").empty();
                    t2.append("<option value=''disabled selected hidden>"+"请选择"+"</option>");
                    for ( var i = 0; i < data.length; i++) {
                        t2.append("<option value='"+data[i].regionId+"'>"+ data[i].regionName+"</option>");
                    }
                },
                error:function(jqXHR){
                    alert("发生错误："+ jqXHR.status);
                }
            });
        })
    </script>
</body>
</html>